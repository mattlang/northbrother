package  com.blackhammer.stereviewer{	import flash.display.MovieClip;	import flash.display.Sprite;	import flash.events.MouseEvent;	import flash.display.Graphics;	import flash.geom.Rectangle;	import flash.geom.Point;	import flash.display.BitmapData;	import flash.display.Bitmap;		public class JumpNav extends MovieClip{		private var _myDaddy:Object;		private var _numOfScreens:uint;		private const _navW:int = 210;		//private var _dotList:Vector.<nav_dot> = new Vector.<nav_dot>();		private var _theX;		private var _redDot:red_dot;		private var _dotW:Number;		private var _isVisible:Boolean;		private var _back:Sprite = new Sprite();		public function JumpNav(myDaddy,numOfPages,theX,theY) {			_myDaddy = myDaddy;			_numOfScreens = numOfPages;			_theX = theX;			_redDot = new red_dot();			var dot:nav_dot = new nav_dot();			_dotW = dot.width;			var backBMD:BitmapData = new BitmapData(_navW+_dotW,10,true,0x0000FF);			var backBM:Bitmap = new Bitmap(backBMD);						//drawRectangle(back,0x00FF00,theX,theY,_navW+_dotW,10);						var bmd1:BitmapData = new BitmapData(_dotW, _dotW, true, 0x00FFFFFF);			bmd1.draw(dot);			//var bmd2:BitmapData = new BitmapData(_navW+_dotW, 10, true, 0x00FFFFFF);			//bmd2.draw(back);						for(var i:uint =0;i<_numOfScreens;i++){				if(i%2==1){					var rect:Rectangle = new Rectangle(0, 0, _dotW, _dotW);					var daX = i*_navW/_numOfScreens;					var pt:Point = new Point(daX, (10-_dotW)/2);					backBMD.copyPixels(bmd1, rect, pt);				}			}			_back.addChild(backBM);			_back.x = _theX;			_back.y = theY;			addChild(_back);			//enable();			_redDot.x = _theX + _myDaddy._myID * (_navW)/_numOfScreens;			_redDot.y = theY;			addChild(_redDot);		}				private function clickthestrip(e:MouseEvent):void{			disable();			e.stopImmediatePropagation();			e.stopPropagation();			var stageMouseX:Number = stage.mouseX;			trace("stage.mouseX",stage.mouseX)			var percent = ( stageMouseX - _theX)/(_navW+_dotW)			var pageNum:int = Math.floor(_numOfScreens*percent);			if (pageNum>=0 && pageNum<_numOfScreens){				//setPage(pageNum);				_myDaddy._myDaddy.jumpNav(pageNum);			}		}		public function setPage(pageNum):void{			_redDot.x = _theX + pageNum * (_navW)/_numOfScreens;		}		public function mShow():void{			if(_isVisible)return			this.visible = true;		}		public function mHide():void{			if(!_isVisible)return			this.visible = false;		}		public function enable():void{			_back.addEventListener(MouseEvent.MOUSE_UP,clickthestrip,false,0,true);		}		public function disable():void{			_back.removeEventListener(MouseEvent.MOUSE_UP,clickthestrip);		}				private function drawRectangle(sprite:Sprite,color:uint,daX:Number,daY:Number,dW:Number,dH:Number):void{			var g:Graphics = sprite.graphics;			g.clear();			g.beginFill(color,1);			g.drawRect(daX,daY,dW,dH);			g.endFill();		}	}	}