package  com.blackhammer.stereviewer{		import flash.display.*;	import flash.events.Event;	import flash.events.MouseEvent;		public class Slider extends slider4{		private var _value:Number;		private var _leftEdge:int;		private var _maxSliderValue:Number;		private var _minSliderValue:Number;		private var _myDaddy:Object;		private var _sliderWidth:Number;		private var _thumbWidth:Number;		private var _deltaX:Number;		private var _initPercent:Number		private var _canZero:Boolean;				public function Slider(myDaddy:Object, daX:int, daY:int, daMinValue:Number, daMaxValue:Number, daStartPercent:Number,canZero:Boolean=false):void{			this.x = _leftEdge = daX;			this.y = daY;			_maxSliderValue = daMaxValue;			_minSliderValue = daMinValue;			_myDaddy = myDaddy;			_canZero = canZero;			_sliderWidth = 299; //295; //this.width;			_thumbWidth = 50; //62; //95; //60;			//trace("_leftEdge",_leftEdge,"_sliderWidth",_sliderWidth,"daStartPercent",daStartPercent);			_initPercent = daStartPercent;			resetSlider();			this.thumb.addEventListener(MouseEvent.MOUSE_DOWN,onTheMouseDown, false, 0, true);			//trace("this.thumb.x",this.thumb.x,"_leftEdge + this.thumb.x",_leftEdge + this.thumb.x);			_deltaX = 0;			updateSlider(_leftEdge + this.thumb.x);		}		private function onTheMouseDown(e:MouseEvent):void{			e.stopPropagation();			_deltaX = stage.mouseX - _leftEdge - this.thumb.x;			this.addEventListener(Event.ENTER_FRAME,onDraggingSlider, false, 0, true);			stage.addEventListener(MouseEvent.MOUSE_UP,stopSliding, false, 0, true)		}		private function stopSliding(e:MouseEvent):void{			this.removeEventListener(Event.ENTER_FRAME,onDraggingSlider);		}		private function onDraggingSlider(e:Event):void{			var newX:Number = stage.mouseX;			updateSlider(newX);		}		private function updateSlider(newX:Number):void{			if (newX < _leftEdge + _deltaX){				newX = _leftEdge + _deltaX;			}else if (newX > _leftEdge +_sliderWidth - _thumbWidth + _deltaX){				newX = _leftEdge+_sliderWidth - _thumbWidth + _deltaX;			}			this.thumb.x = newX -_leftEdge - _deltaX;			var range:Number = _maxSliderValue - _minSliderValue;			_value = _minSliderValue + (range*((newX - _leftEdge - _deltaX)/(_sliderWidth -_thumbWidth)))			//trace(_value);			if (_canZero && _value==_minSliderValue) _value = 0;			_myDaddy.sliderUpdate(this,_value);		}		public function resetSlider():void{			this.thumb.x = _initPercent*_sliderWidth -(.5*_thumbWidth);		}		public function get slidervalue():Number{			return _value;		}			}	}